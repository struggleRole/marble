(function(e){function t(t){for(var n,o,i=t[0],u=t[1],c=t[2],l=0,d=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);m&&m(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var i=r[o];0!==a[i]&&(n=!1)}n&&(s.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},o={app:0},a={app:0},s=[];function i(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-0b7a42de":"cd4986ba","chunk-0d7f0827":"0dc62535","chunk-4e552d82":"2ea9ec42","chunk-644e69d8":"6823558a","chunk-df7e035a":"9859516a"}[e]+".js"}function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.e=function(e){var t=[],r={"chunk-0d7f0827":1};o[e]?t.push(o[e]):0!==o[e]&&r[e]&&t.push(o[e]=new Promise((function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-0b7a42de":"31d6cfe0","chunk-0d7f0827":"5c4c829e","chunk-4e552d82":"31d6cfe0","chunk-644e69d8":"31d6cfe0","chunk-df7e035a":"31d6cfe0"}[e]+".css",a=u.p+n,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===n||l===a))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],l=c.getAttribute("data-href");if(l===n||l===a)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var n=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete o[e],m.parentNode.removeChild(m),r(s)},m.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){o[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=i(e);var d=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(m);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",d.name="ChunkLoadError",d.type=n,d.request=o,r[1](d)}a[e]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var m=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"2cfd":function(e,t,r){"use strict";var n=r("e314"),o=r.n(n);o.a},"4a7e":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},a=[],s=r("2877"),i={},u=Object(s["a"])(i,o,a,!1,null,null,null),c=u.exports,l=r("8c4f"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"loginForm",staticClass:"loginContainer",attrs:{model:e.LoginForm,rules:e.rules}},[r("h2",{staticStyle:{"text-align":"center"}},[e._v("系统登陆")]),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入用户名"},model:{value:e.LoginForm.username,callback:function(t){e.$set(e.LoginForm,"username",t)},expression:"LoginForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入密码"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitLogin(t)}},model:{value:e.LoginForm.password,callback:function(t){e.$set(e.LoginForm,"password",t)},expression:"LoginForm.password"}})],1),r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.submitLogin}},[e._v("登陆")])],1)],1)},m=[],p=(r("ac1f"),r("5319"),{name:"Login",data:function(){return{LoginForm:{username:"admin",password:"123"},checked:!1,rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{submitLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return e.$message.error("请填写完整信息"),!1;e.postKeyValueRequest("/doLogin",e.LoginForm).then((function(t){if(t){window.sessionStorage.setItem("user",JSON.stringify(t.obj));var r=e.$route.query.redirect;e.$router.replace("/"==r||void 0==r?"/back":r)}}))}))}}}),f=p,h=(r("d6db"),Object(s["a"])(f,d,m,!1,null,null,null)),g=h.exports,v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"registerForm",staticClass:"registerForm",attrs:{model:e.register,rules:e.rules}},[r("h2",{staticStyle:{"text-align":"center"}},[e._v("注册")]),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入用户名","auto-complete":"off"},model:{value:e.register.username,callback:function(t){e.$set(e.register,"username",t)},expression:"register.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{placeholder:"请输入密码","auto-complete":"off"},model:{value:e.register.password,callback:function(t){e.$set(e.register,"password",t)},expression:"register.password"}})],1),r("el-form-item",{attrs:{prop:"passwordAgain"}},[r("el-input",{attrs:{placeholder:"请确认密码","auto-complete":"off"},model:{value:e.register.passwordAgain,callback:function(t){e.$set(e.register,"passwordAgain",t)},expression:"register.passwordAgain"}})],1),r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.submitRegister}},[e._v("注册")])],1)],1)},b=[],w={name:"Register",data:function(){var e,t;return{register:{username:"",password:"",passwordAgain:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{validator:e,trigger:"blur"}],passwordAgain:[{validator:t,trigger:"blur"}]}}},methods:{submitRegister:function(){var e=this;this.$refs.registerForm.validate((function(t){if(!t)return e.$message.error("请填写完整信息"),!1;alert("submit!")}))}}},y=w,k=(r("2cfd"),Object(s["a"])(y,v,b,!1,null,null,null)),_=k.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-container",[r("el-header",{staticClass:"containHeaderz"},[r("div",{staticClass:"headTitle"},[e._v("石材世界")]),r("div",[null!=this.user?r("el-dropdown",{staticClass:"userAbout",on:{command:e.commandHeader}},[r("span",{staticClass:"userInfoz"},[e._v(" "+e._s(e.user.name)+" "),r("i",[r("img",{attrs:{src:e.user.userface,alt:""}})])]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"userInfo"}},[e._v("个人中心")]),r("el-dropdown-item",{attrs:{command:"setting"}},[e._v("设置")]),r("el-dropdown-item",{attrs:{command:"back",hidden:e.isHidden}},[e._v("后台管理")]),r("el-dropdown-item",{attrs:{command:"logout",divided:""}},[e._v("注销登陆")])],1)],1):r("div",[r("el-button",{staticStyle:{"font-size":"20px",color:"white","margin-right":"6px"},attrs:{type:"text"},on:{click:e.goLogin}},[e._v("登录 ")]),r("el-button",{staticStyle:{"font-size":"20px",color:"white","margin-right":"40px"},attrs:{type:"text"},on:{click:e.register}},[e._v("注册")])],1)],1)]),r("el-main"),r("el-footer")],1)],1)},$=[],S={name:"Front",data:function(){return{isHidden:!0,user:JSON.parse(window.sessionStorage.getItem("user"))}},mounted:function(){this.intoBack()},methods:{intoBack:function(){this.user?"admin"!=this.user.username&&"libai"!=this.user.username||(this.isHidden=!1):this.isHidden=!0},register:function(){this.$router.push("/register")},goLogin:function(){this.$router.push("/login")},commandHeader:function(e){var t=this;"logout"==e&&this.$confirm("此操作将退出登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.getRequest("/logout"),window.sessionStorage.removeItem("user"),t.$store.commit("initRoutes",[]),location.reload()})).catch((function(){t.$message({type:"info",message:"已取消操作"})})),"back"==e&&this.$router.replace("/back")}}},C=S,R=(r("72cd"),Object(s["a"])(C,x,$,!1,null,null,null)),L=R.exports,O=r("d8ee");n["default"].use(l["a"]);var E=[{path:"/front",name:"Front",component:L,hidden:!0},{path:"/",name:"Login",component:g,hidden:!0},{path:"/register",name:"Register",component:_,hidden:!0},{path:"/back",name:"Back",component:O["default"],hidden:!0}],j=new l["a"]({routes:E}),F=j,q=r("2f62");n["default"].use(q["a"]);var T=new q["a"].Store({state:{routes:[]},mutations:{initRoutes:function(e,t){e.routes=t}},actions:{}}),A=r("5c96"),B=r.n(A),I=(r("0fae"),r("1f54"),r("bc3a")),H=r.n(I);H.a.interceptors.response.use((function(e){if(!e.status||200!=e.data.status||500!=e.data.status)return e.data.msg&&A["Message"].success({message:e.data.msg}),e.data;A["Message"].error({message:e.data.msg})}),(function(e){return 504==e.response.status||404==e.response.status?A["Message"].error({message:"没有找到服务器"}):403==e.response.status?A["Message"].error({message:"权限不足"}):401==e.response.status?(F.replace("/"),A["Message"].error({message:"尚未登录"})):e.response.data.msg?(alert(223),A["Message"].error({message:e.response.data.msg})):A["Message"].error({message:"未知错误"})}));var P=function(e,t){return H()({method:"post",url:"".concat(e),data:t,transformRequest:[function(e){var t="";for(var r in e)t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r])+"&";return t}],header:{"Content-Type":"application/x-www-form-urlencoded"}})},M=function(e,t){return H()({method:"post",url:"".concat(e),data:t})},N=function(e,t){return H()({method:"get",url:"".concat(e),data:t})},W=function(e,t){return H()({method:"put",url:"".concat(e),data:t})},J=function(e,t){return H()({method:"delete",url:"".concat(e),data:t})},z=(r("4160"),r("b0c0"),r("2ca0"),r("159b"),function(e,t){t.state.routes.length>0||N("/system/config/menu").then((function(r){if(r){console.log(r);var n=K(r);e.addRoutes(n),t.commit("initRoutes",n)}}))}),K=function e(t){var n=[];return t.forEach((function(t){var o=t.path,a=t.component,s=t.name,i=t.iconcls,u=t.meta,c=t.children;c&&c instanceof Array&&(c=e(c));var l={path:o,name:s,iconcls:i,meta:u,children:c,component:function(e){a.startsWith("Home")?Promise.resolve().then(function(){var t=[r("d8ee")];e.apply(null,t)}.bind(this)).catch(r.oe):a.startsWith("Emp")?r.e("chunk-0b7a42de").then(function(){var t=[r("fd11")("./"+a+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe):a.startsWith("Per")?r.e("chunk-4e552d82").then(function(){var t=[r("ee1c")("./"+a+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe):a.startsWith("Sal")?r.e("chunk-df7e035a").then(function(){var t=[r("d7e6")("./"+a+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe):a.startsWith("Sta")?r.e("chunk-644e69d8").then(function(){var t=[r("0b22")("./"+a+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe):a.startsWith("Sys")&&r.e("chunk-0d7f0827").then(function(){var t=[r("66b4")("./"+a+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe)}};n.push(l)})),n};n["default"].prototype.postKeyValueRequest=P,n["default"].prototype.postRequest=M,n["default"].prototype.getRequest=N,n["default"].prototype.putRequest=W,n["default"].prototype.deleteRequest=J,n["default"].config.productionTip=!1,n["default"].use(B.a),F.beforeEach((function(e,t,r){"/"==e.path||"/login"==e.path||"/register"==e.path?r():window.sessionStorage.getItem("user")?(z(F,T),r()):r("/?redirect="+e.path)})),new n["default"]({router:F,store:T,render:function(e){return e(c)}}).$mount("#app")},"72cd":function(e,t,r){"use strict";var n=r("8f8d"),o=r.n(n);o.a},"8f65":function(e,t,r){"use strict";var n=r("4a7e"),o=r.n(n);o.a},"8f8d":function(e,t,r){},d6db:function(e,t,r){"use strict";var n=r("e67a"),o=r.n(n);o.a},d8ee:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-container",[r("el-header",{staticClass:"containHeader"},[r("div",{staticClass:"title"},[e._v("石材后台管理")]),r("div",[r("el-dropdown",{staticClass:"userInfo",on:{command:e.commandHeader}},[r("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.user.name)),r("i",[r("img",{attrs:{src:e.user.userface,alt:""}})])]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"userInfo"}},[e._v("个人中心")]),r("el-dropdown-item",{attrs:{command:"setting"}},[e._v("个人设置")]),r("el-dropdown-item",{attrs:{command:"",divided:""}},[e._v("返回到登录")])],1)],1)],1)]),r("el-container",[r("el-aside",{attrs:{width:"220px"}},[r("el-menu",{attrs:{"unique-opened":""},on:{select:e.menuSelect}},e._l(e.routes,(function(t,n){return t.hidden?e._e():r("el-submenu",{key:n,attrs:{index:n+""}},[r("template",{slot:"title"},[r("i",{class:t.iconcls,staticStyle:{color:"blue","margin-right":"8px"}}),r("span",[e._v(e._s(t.name))])]),e._l(t.children,(function(t,n){return r("el-menu-item",{key:n,attrs:{index:t.path}},[e._v(" "+e._s(t.name))])}))],2)})),1)],1),r("el-main",["/back"!=this.$router.currentRoute.path?r("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/back"}}},[e._v("首页")]),r("el-breadcrumb-item",[e._v(e._s(this.$router.currentRoute.name))])],1):e._e(),e._v(" "),"/back"==this.$router.currentRoute.path?r("div",{staticClass:"homeWelcome"},[e._v(" 欢迎来到石材后台管理 ")]):e._e(),r("router-view",{staticClass:"homeRouterView"})],1)],1)],1)],1)},o=[],a=(r("ac1f"),r("5319"),{name:"Back",data:function(){return{user:JSON.parse(window.sessionStorage.getItem("user"))}},computed:{routes:function(){return this.$store.state.routes}},methods:{menuSelect:function(e){this.$router.push(e)},commandHeader:function(e){var t=this;""==e&&this.$confirm("此操作将返回至于登录页面, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.getRequest("/logout"),window.sessionStorage.removeItem("user"),t.$store.commit("initRoutes",[]),t.$router.replace("/")})).catch((function(){t.$message({type:"info",message:"已取消操作"})})),"front"==e&&this.$confirm("此操作将返回到前台页面, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$router.replace("/")})).catch((function(){t.$message({type:"info",message:"已取消操作"})}))}}}),s=a,i=(r("8f65"),r("2877")),u=Object(i["a"])(s,n,o,!1,null,null,null);t["default"]=u.exports},e314:function(e,t,r){},e67a:function(e,t,r){}});
//# sourceMappingURL=app.3e31c450.js.map